# 관계형 데이터베이스와 오라클 데이터베이스

`관계형 데이터베이스의 구성 요소 살펴보기`

## 알아두고 가야할 것.
1. 테이블과 행, 열 의미 알아보기
2. 기본키,외래키 의미 알아보기
3. 데이터베이스 자료형 익히기

## 2-1. 관계형 데이터베이스의 구성 요소
   
<br>

### 테이블   
```
관계형 데이터베이스는 기본적으로 데이터를 2차원 표 형태로 저장하고 관리한다.
표 형태의 데이터 저장 공간을 "테이블(table)"이라고 하며

테이블은 2차원 형태로 가로줄과 세로줄로 구성됨.
    가로줄 : row
    세로줄 : column
```
+ 행(row : 로우)   

    > 저장하려는 하나의 개체를 구성하는 여러 값을 가로로 늘어뜨린 형태 
    ```
    학교에서 학생을 관리할 경우에
    학생을 구성하는 여러 값을 나열할 수 있다.

    16031055 홍길동 971210 010-1111-1111 서울시.. 1 2 

    하나의 행은 학번,이름등 여러 값으로 이루어진 한명의 데이터를 의미한다.
    ```
   
+ 열(column : 컬럼)

    > 저장하려는 데이터를 대표하는 이름과 공통 특성을 정의한다.
    ```
    각 학생의 데이터를 구성하는 학번과 이름,필요한 정보를 정의하면 
    각 학생의 정보를 통일성 있게 저장할 수있다.

    열은 저장 정보의 종류(자료형)과 유효한 데이터가 삽입될 수 있게 
    저장 조건과 범위를 지정할수 있다
    ```
+ 관계형 데이터베이스와 테이블

    ```
    관계란 행과 열의 특성에 맞추어 데이터를 저장한 테이블 하나 하나를 의미한다.
    여러 테이블의 구성과 관계를 잘 규정하고 관리 하는것이 
    데이터 베이스에서 데이터를 관리하는 핵심이다.

    테이블은 관계(Relation)
    행은 튜플(tuple),레코드(record)
    열은 애트리뷰트(attribute),필드(field)
    라고 한다.
    ```
<br>

### 특별한 의미를 지닌 열,키
> 키는 수 많은 데이터를 구별할 수 있는 유일한 값   
```
키는 하나의 테이블을 구성하는 여러 열 중에서
특별한 의미를 지닌 하나 또는 여러 열의 조합을 의미
```

`종류별로 데이터를 구별하거나 테이블 간의 연관 관계를`   
`표현할때 키로 지정한 열을 사용한다`

<br>


__`기본키`__   
> (PK : Primary Key)
```
여러 키 중에서 가장 중요한 키로서 한 테이블 내에서
중복되지 않은 값만 가질 수 있는 키
```
_기본키의 속성_   
1. 테이블에 저장된 행을 식별할 수 있는 유일한 값이어야 한다.
2. 값의 중복이 없어야한다.
3. NULL 값을 가질수 없다.

```
예)
학생을 관리하는 테이블이 있다면
학생 별로 특정 서비스를 제공하려면 학생을 구별할수있는 데이터가 필요
이때 학번,아이디,주민번호가 구별할수 있는 데이터가 될수있다.
거기서 개인 정보 노출이 가장 적은 데이터를 선정하여야 하므로
학번을 기본키로 정한다.
```
<br>

__`보조키`__   
> 대체키(alterante key),후보키(candidate key)에 속해 있는 키   
> 후보키 중에서 기본키로지정되지 않은 열이다.
```
학생을 구별하기 위한 데이터로 학번,아이디,주민등록번호가 있다면

학번,아이디,주민등록번호 => 후보키
학번 => PK : 기본키
아이디,주민등록번호 => 보조키,대체키

데이터를 구별할수 있는 모든 키를 후보키라고 하며
기본키를 제외한 후보키를 보조키 , 대체키 라고 한다.
```
<br>

__`외래키`__   
> 외래키(FK:Foreign Key)는 특정 테이블에서 포함이 되어있고   
> 다른 테이블의 기본키로 지정된 키를 의미한다.   

    포린키(foreign key)라고 부르는경우가 더 많다.

```
학과 정보 테이블
(학과 코드,학과 이름,대표 전화번호) 로 구성된 테이블

학생 정보 테이블
(학번, 이름,  ... , 학과코드 , 졸업 여부) 로 구성된 테이블

이렇게 있다고 할경우에
학과 정보 테이블에서 학과 코드를 기본키로 지정
학생 정보 테이블에서 (학과 정보 테이블의 학과 코드)를 참조할경우
이것을 외래키라고 한다.

참조없이 테이블을 만들경우에는
학생 정보 테이블에 학과 정보 테이블이 붙여져서 들어가는데
같은 학과의 데이터 중복이 발생하게 되고
매년 새로운 학생이 발생하고
학과 정보를 변경할경우 일일히 테이블을 수정해야하지만

관계형 데이터베이스로
학과 정보를 따로 분류하여 학과코드로 관계를 지정해서
데이터 중복과 유지보수를 쉽게 만들수있다.
```
`참조를 느슨하게하여 제작의 효율 및 편의를 위해서`   
`외래키로 지정 안하고 사용 할수도 있다`   

<br>

__`복합키`__   
> 복합키(composite key)는 여러 열을 조합하여 기본키 역할을 수행   
적게는 두세 개, 많게는 열 개가 넘는 열을 조합하기도 한다.

```
과목 정보 테이블

과목 코드, 담당 교수 , 전공 여부 , 과목 이름 ....
C3655   , 이순신    , 교양   ,논리와 비판적 사고
C3655   , 김유신    , 교양   ,논리와 비판적 사고
E0134   , 이몽룡    , 전공   ,모바일 프로그래밍
  :         :          :            :
E0021   , 이몽룡    , 전공   ,네트워크 프로그래밍

1.같은 과목을 여러 교수가 가르치다면 ?
2.한명의 교수가 여러 과목을 가르킨다면 ?
(과목 코드 + 담당 교수)를 기본키로 묶어서 사용한다.

추가로

한 과목을 한 교수님이 가르치는데 강의 시간이 다르다면?

(과목 코드 + 담당 교수 + 강의 시간)을 묶어서 사용한다.
```

### __'다양한 키는 관계형 데이터베이스에서 테이블 행을 구분하기위해__
### __여러 테이블 간의 관계를 정의하기 위해서 사용한다는 점'__

<br>

## 2-2. 오라클 데이터 베이스
<br>


### 객체
> 객체는 오라클 데이터베이스 내에서 데이터를 저장하고   
> 관리하기 위한 논리 구조를 가진 구성요소
```
객체                설명
---                 ---
테이블(TABLE)       데이터를 2차원 표 모양으로 저장
인덱스(INDEX)       테이블의 검색 효율을 높이기 위해 사용함
뷰(VIEW)            하나 또는 여러 개의 선별된 데이터를 논리적으로 연결하여 
                    하나의 테이블처럼 사용하게 해줌
                    ---
시퀀스(sequence)    일련 번호를 생성해줌
시노님(synonym)     오라클 객체의 별칭(다름 이름)을 지정함
                    ---
프로시저(procedure) 프로그래밍 연산 및 기능 수행이 가능함(반환값 없음)
함수(funcion)       프로그래밍 연산 및 기능 수행이 가능함(반환값 있음)
패키지(package)     관련 있는 프로시저와 함수를 보관함
트리거(trigger)     데이터 관련 작업의 연결 및 방지 관련 기능을 제공
```
<br>

### PL/SQL   
> 데이터를 관리하기 위해서 복잡한 기능이 필요할때   
> 기존 SQL만으로 이를 구현하는 것은 다소 한계가 있다.   
```
오라클 데이터베이스는
데이터 관리를 위해 별도의 프로그래밍 언어를 제공하는데
PL/SQL(Procedural Language extension to SQL)

--

오라클 데이터베이스 프로그래밍이라고 하면
SQL문과 PL/SQL을 사용하여 프로그램을 제작하는것을 의미
PL/SQL을 사용하면 변수,조건문,반복문 등 
프로그래밍 언어에서 제공하는 요소를 사용하여
데이터를 관리할수 있다.
```

```
*변수 :
변수는 특정 값을 저장하는 메모리 공간,
로그인을 위해 사용자가 아이디와 비밀번호를 입력하면
입력된 값이 정확한지 확인하기 위해 일시적으로 저장하는 공간

*조건문 : 
특정 조건에 따라 다른 기능을 수행하는 코드를 작성할때 사용
'로그인하지 않은 사용자는 이메일 열람이 불가능하다'
라는 기능을 만들때 사용자의 '로그인 여부'를 확인하는게 조건문

*반복문 : 
특정 기능을 반복하여 수행할때 사용한다.
'문서를 10번 인쇄하라'라고 명령할 때
문서 출력이 10번 반복되는 것이 반복문이다.
```